asyncapi: '2.6.0'
id: 'urn:uuid:123e4567-e89b-12d3-a456-426614174000'
defaultContentType: 'application/json'
info:
  title: Intracom Socket.io API
  version: '1.0.0'
  description: Documentation for the Socket.io API of the Intracom project.
  contact:
    name: API Support
    url: 'http://www.example.com/support'
    email: 'support@example.com'
  license:
    name: Apache 2.0
    url: 'https://www.apache.org/licenses/LICENSE-2.0.html'
tags:
  - name: user
    description: Operations related to user management
  - name: chat
    description: Operations related to chat functionality
servers:
  development:
    url: ws://localhost:9000
    protocol: wss
channels:
  /setup:
    description: Setup a user connection.
    subscribe:
      operationId: setupUser
      summary: User setup
      message:
        contentType: application/json
        payload:
          type: object
          properties:
            _id:
              type: string
            username:
              type: string
  /join-room:
    description: Join a chat room.
    subscribe:
      operationId: joinRoom
      summary: Join room
      message:
        contentType: application/json
        payload:
          type: object
          properties:
            _id:
              type: string
  /typing:
    description: Notify typing status.
    subscribe:
      operationId: notifyTyping
      summary: Typing
      message:
        contentType: application/json
        payload:
          type: object
          properties:
            _id:
              type: string
  /stop-typing:
    description: Notify stop typing status.
    subscribe:
      operationId: stopTyping
      summary: Stop typing
      message:
        contentType: application/json
        payload:
          type: object
          properties:
            _id:
              type: string
  /new-message:
    description: Send a new message.
    subscribe:
      operationId: newMessage
      summary: New message
      message:
        contentType: application/json
        payload:
          type: object
          properties:
            sender:
              type: object
              properties:
                _id:
                  type: string
            content:
              type: string
            chat:
              type: object
              properties:
                _id:
                  type: string
                users:
                  type: array
                  items:
                    type: object
                    properties:
                      _id:
                        type: string
  /test:
    description: Test event.
    subscribe:
      operationId: testEvent
      summary: Test
      message:
        contentType: application/json
        payload:
          type: string
